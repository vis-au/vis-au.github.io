<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Steering-by-Example for Progressive Visual Analytics</title>

  <link type="text/css" rel="stylesheet" href="../static/css/materialize.min.css"  media="screen,projection"/>
  <link type="text/css" rel="stylesheet" href="../static/css/fonts.css" media="screen,projection">
  <link type="text/css" rel="stylesheet" href="../static/css/style.css" media="screen,projection">
  <link type="text/css" rel="stylesheet" href="./style.css" media="screen,projection">
  <script src="https://kit.fontawesome.com/cb26641bd1.js"></script>
  <link rel="shortcut icon" href="../static/img/favicon.ico" type="image/x-icon">
</head>
<body>
  <nav class="au-color">
    <div class="nav-wrapper container">
      <a href="../" class="brand-logo">
        <img src="../static/img/auvis_logo_large_white.png" height="45px" alt="">
      </a>
      <ul class="right hide-on-med-and-down">
        <li><a href="../publications/">Publications</a></li>
        <li><a class="current" href="../software/">Software</a></li>
        <li><a href="../teaching_materials/">Teaching Material</a></li>
        <li><a href="../student_projects/">Student Projects</a></li>
        <li><a href="../team/">Team</a></li>
      </ul>
    </div>
  </nav>

  <article class="container">
    <section class="row" id="map-like">
      <h2>Steering-by-Example for Progressive Visual Analytics</h2>
      <p class="leader">ACM Transactions on Intelligent Systems and Technology (to appear)</p>
    </section>

    <section class="row">
      <div class="col s12 m7 abstract">
        <h3>Authors</h3>
        <a href="https://cs.au.dk/ hograefer" class="author"><span>Marius Hogräfer</span></a>
        <a href="https://orcid.org/0000-0001-9051-6972" class="author"><span>Marco Angelini</span></a>
        <a href="http://www.diag.uniroma1.it/ santucci/" class="author"><span>Giuseppe Santucci</span></a>
        <a href="https://hjschulz.net/" class="author"><span>Hans-Jörg Schulz</span></a>

        <figure class="teaser" style="color:#777">
          <a href="https://github.com/vis-au/progressive-steering">
            <img src="./static/img/frontend_full_screenshot.png" alt="Screenshot of ProSteer." />
          </a>
          <figcaption>Screenshot from <a href="#prosteer">ProSteer</a> showing a side-by-side view from a progression that uses the steering-by-example approach to steer the computation on the left, compared to a progression using random uniform sampling on the right.</figcaption>
        </figure>

        <h3>Abstract</h3>
        <p>
          Progressive visual analytics allows users to interact with early, partial results of long-running computations on large datasets.
          In this context, computational steering is often brought up as a means to prioritize the progressive computation.
          This is meant to focus computational resources on data subspaces of interest, so as to ensure their computation is completed before all others.
          Yet, current approaches to select a region of the view space and then to prioritize its corresponding data subspace either require a 1-to-1 mapping between view and data space, or they need to establish and maintain computationally costly index structures to trace complex mappings between view and data space.
        </p>
        <p>
          We present <b>steering-by-example</b>, a novel interactive steering approach for progressive visual analytics, which allows prioritizing data subspaces for the progression by generating a relaxed query from a set of selected data items.
          Our approach works independently of the particular visualization technique and without additional index structures.
          First benchmark results show that steering-by-example considerably improves Precision and Recall for prioritizing unprocessed data for a selected view region, clearly outperforming random uniform sampling.
        </p>
      </div>

      <div class="col s12 m3 right resources">
        <h3>Resources</h3>

        <h4> <a href=""><i class="icon fas fa-file-pdf"></i>Paper (preprint)</a></h4>
        <h4> <a href="https://dx.doi.org/10.1145/3531229"><i class="icon fas fa-globe"></i>DOI (external)</a></h4>
        <h4> <a href="./static/prosteer_approach.mp4"><i class="icon fas fa-video"></i>Approach Presentation (mp4)</a></h4>
        <h4><a href="./static/prosteer_demo.mp4"><i class="icon fas fa-video"></i> ProSteer Demo (mp4)</a></h4>
        <h4><a href="./static/slides.pdf"><i class="icon fas fa-file-pdf"></i> Slides (pdf)</a></h4>
        <h4><a href="../publications/bib/Hograefer2022_steering.bib"><i class="icon fas fa-quote-right"></i> BibTeX Citation</a></h4>
        <h4 class="highlight"><a href="https://github.com/vis-au/progressive-steering"><i class="icon fab fa-github"></i> Code on Github</a></h4>
      </div>
    </section>

    <section class="row">
      <div class="col s12 m7 abstract">
        <h3>Citation in BibTeX</h3>

      <p>To cite this article, we encourage you to use the following bibtex entry in your citation manager:</p>

        <pre>
  @Article{Hograefer2022,
    author   = {Marius Hogr\"afer and Marco Angelini and Giuseppe Santucci
                and Hans-J\"org Schulz},
    journal  = {ACM Transactions on Intelligent Systems and Technology},
    title    = {{S}teering-by-{E}xample for {P}rogressive {V}isual {A}nalytics},
    year     = {2022},
    note     = {To appear},
    doi      = {10.1145/3531229},
    keywords = {review}
  }

        </pre>
      </div>
    </section>

    <section class="row">
      <div class="col m7 s12">
        <h2 id="prosteer"><b>ProSteer:</b> An Experimental Visual Environment for Steering-by-Example</h2>
        <div class="row">
          <h4 class="highlight" style="margin: 2rem 0;">
            <a href="https://github.com/vis-au/progressive-steering">
              <i class="icon fab fa-github"></i> Code and Benchmarks available on Github
            </a>
          </h4>
        </div>
      </div>

      <div class="col m3 s12 right">
        <div class="toc">
          <h2>Contents</h2>
          <ul>
            <li><a href="#scenario">Scenario</a></li>
            <li><a href="#architecture">Architecture</a></li>
            <li><a href="#implementation_details">Implementation Details</a></li>
          </ul>
        </div>
      </div>
    </section>
    <section class="row">
      <div class="col m7 s12">

        <h3 id="scenario">Scenario</h3>
        <p>
          We introduced the steering-by-example approach for progressive computations, for which their complexity prohibits running multiple passes over the entire dataset as it would simply take too long.
          This could either be due to the size of the dataset being too large, or the computations run on the dataset taking too long.
          As a realistic scenario for our benchmarks, we describe an example of the latter case, in which a business traveler uses steering-by-example while looking for a suitable accommodation in the city of Paris to attend a conference.
        </p>
        <p>
          To determine, whether a housing listing is suitable or not, the traveler requires it to lie within walking distance to the conference venue, while at the same time having a reasonable price compared to its neighborhood.
          There are thus two key performance indicators to this scenario on which the traveler bases her decision: the distance to walk to the conference center and the price in relation to other accommodations lying in a predefined radius of, e.g., 300 meters around a housing offer.
          The former indicator can be computed using standard routing algorithms for the distance on foot between the conference venue and a particular housing option (e.g., the Google Distance Matrix service), while the latter indicator can be computed through a range analysis on the geographic location and housing price dimensions.
          This traveler interest can only be computed on-demand, as it relies on the conference location for the former and on the travel dates for the latter.
          Yet, as the dataset contains tens of thousands of housing listings, these on-demand computations also take some time to complete.
        </p>
        <p>
          After the system has processed about 10% of the data, the traveler detects a cluster of housing listings that lie within a generally acceptable distance and offer good prices for their neighborhood.
        </p>
      </div>
      <div class="col m7 s12">
        <p>
          Using steering-by-example, the traveler informs the PVA system to prioritize listings for that same visual cluster during the computation, by selecting it in the visualization through direct manipulation.
          She observes how the next listings that are retrieved all fall within or in close proximity to the cluster she selected (see Fig. 1).
          After finding a listing that she particularly likes, the traveler decides to go forth and book that housing option.
          In total, she only needed to wait up until ca. 20% of the data was processed, because she could focus on a particular subspace early on once she noticed a particular pattern forming.
        </p>

        <h3 id="architecture">Architecture</h3>
        <p>
          Here we give a high-level overview of the architecture of our steering-by-example implementation.
        </p>
        <p>
          The main goal of our implementation is to be able to qualitatively and quantitatively evaluate the steering-by-example approach.
          In the context of the scenario outlined above, the central task throughout our evaluations is to determine how much quicker the interesting listings from the dataset that are located inside the region the user indicated are shown to her when using the steering-by-example approach.
          More abstractly, our goal is to compare the overall precision (percentage of retrieved data items that were located inside the selection compared to those outside the selection) and recall (percentage of all already retrieved data items that were located inside the selection compared to all items from the dataset that will eventually be located inside the selection) with regards to the selection in view space for steering-by-example compared to a baseline of uniform random sampling and a hypothetical perfect predictor. Perfect predictor here refers to a perfect oracle, i.e. a retrieval approach that has constant precision=1.0 and recall=1.0 for every user selection at every data chunk.
          We compare approaches from multiple perspectives, for instance comparing how many data items land inside versus outside the selection at a certain chunk, comparing how steering affects the data in view space at one time point of the progression versus another, or comparing the data distribution inside the selection versus outside.
        </p>
      </div>
      <div class="col m5 s12">
        <figure class="right">
          <img src="./static/img/screenshots_heatmap_evolution_wide.png" alt="State diagram of ProSteer." />
          <figcaption><b>Figure 1: </b>Example progression scenario using steering-by-example. The steered region becomes present by the red background during the steering phase and then fades away, once steering is done.</figcaption>
        </figure>
      </div>
      <div class="col m7 s12">
        <p>
          To be able to make these comparisons, we structured the implementation along a basic pipeline reflecting the scenario, where data is loaded from a database, processed by a computation, and then shown in a visualization, on which view space selections can be made to define a region of interest.
          The four modules listed below that make up that pipeline are depicted in Fig. 2.

          <ol>
            <li>The <b>client</b>, which provides the user interface for visualizing and interacting with the progression. Using this module, one can assess the progression through a set of visualizations, monitor the performance of the steering-by-example algorithm, and define a region of interest through direct selection.</li>
            <li>The <b>database</b>, which holds a dataset and returns it in chunks in response to relational queries.</li>
            <li>The <b>computation module</b>, which runs the analytic computation on the data. This module sits between the other modules and mediates messages between them.</li>
            <li>The <b>steering module</b>, which implements the steering-by-example algorithm and thus takes a set of data items from the selected view region and produces an SQL query for prioritizing their respective data subspace.</li>
          </ol>
        </p>
      </div>
      <div class="col m5 s12">
        <figure class="right">
          <img src="./static/img/implementation-overview.png" alt="Modules of implementation for steering-by-example.">
          <figcaption class="caption"><b>Figure 2: </b>Overview of the modular architecture used in the implementation of steering-by-example.</figcaption>
        </figure>
      </div>
      <div class="col m7 s12">
        <p>
          The benefit of using this modular architecture is that we can exchange individual functionalities and evaluate them before and after this exchange.
          We can for example compare a steering module that implements steering-by-example to a steering module that only relies on random uniform sampling and never returns a steering query.
          We can compare the two versions with regards to their effect on any part of the pipeline, meaning that we can both evaluate quantitative metrics as well as qualitative effects on the user interface side.
          Another benefit of the modular architecture is that we can easily provide a parametrizable, automated client module which simulates a user making selections in view space with different presets.
          That way, we can measure performance metrics across pre-defined benchmark selections.

          We describe the particular implementation of the steering and computation modules in our paper, including the visual design of ProSteer, an implementation of the client module.
        </p>
        <h3 id="implementation_details">Implementation Details</h3>
        <p>
          The steering and computation modules use Python 3.8.1, building on functionalities from the DecisionTreeClassifier module of <a href="https://scikit-learn.org/stable/index.html">scikit-learn</a> in version 0.22.2 as well as <a href="https://numpy.org/">NumPy</a> version 1.18.1 and <a href="https://pandas.pydata.org/">Pandas</a> version 1.0.1.
          Scikit-learn's implementation of decision trees is an optimization of the CART algorithm, which includes some performance optimizations such as pruning subtrees that contribute the least to the overall accuracy of the classification <a href="https://scikit-learn.org/stable/modules/tree.html">in order to avoid overfitting</a>.
          To overcome unbalanced class cardinalities, we parametrize the decision tree with class weights representing the relative percentages of items from each class in the total training dataset.
          The steering query extracted from the decision tree is appended to the WHERE clause of the initial user query, seeking for accommodations close to a given conference location and for a certain time interval.
          For visual comparison, the computation module can optionally also be used in "dual" mode, in which two progressions are run in parallel: One using steering-by-example, the other one using random uniform sampling.
          Using this mode, client modules can visualize both a steered and a non-steered version of the progression side-by-side.
        </p>
        <p>
          The user-driven client module is implemented in ProSteer, a web-based interface using <a href="https://www.typescriptlang.org/">TypeScript</a> version 3.3, <a href="https://reactjs.org">ReactJS</a> version 16.8.6, and <a href="https://d3js.org/">D3</a> version 5.7.2.
          Its purpose is to provide a visual interface to the benchmarks, to demonstrate how steering translates into the progressive visualization of the dataset.
          A detailed description of ProSteer's functionality can be found in our paper.
        </p>
        <p>
          The automated client module that was used for producing the benchmark results was implemented in Python.
          Test cases are defined inside a configuration file that describes the region in view space that is to be selected.
          The automated module loads these test cases and then records the evaluation metrics.
          These metrics are then output to another file for further analysis.
        </p>
      </div>
      <div class="col m5 s12">
        <figure class="right">
          <img src="./static/img/example_decision_tree.png" alt="Example of a decision tree being transformed into an SQL query." />
          <figcaption>Exemplar decision tree trained on the classic dataset of passengers of the Titanic catastrophe, showing how its decision rules can be translated into an SQL query for prioritizing data items from the "survived" class.</figcaption>
        </figure>
      </div>
      <div class="col m7 s12">
        <p>
          The communication channel between the client and computation modules is realized using <a href="https://github.com/samuelhwilliams/Eel">Eel</a> version 0.12.2, which provides a minimalistic, JSON-based bridge between Python and web frameworks.
          The client module sends lists of IDs of data items that were rendered inside the user selection through that channel, as well as the initial user parameters.
          Additionally, the client can send messages to control the progression in the computation module, in order to pause, restart, and reset the computation.
          Since our implementation is designed to assess the performance of steering-by-example instead of being used for productive visual analysis, the pausing functionality in ProSteer does indeed halt the progression rather than "muting" it into a background process that continues as the user investigates the visualization, which is commonly found in PVA tools.
          The computation module on the other hand sends lists of items that were retrieved from the database through the Eel interface.
          In keeping the information interchange between the modules to a minimum, the computation module remains isolated from the particular visualization and interaction technique used in the client.
        </p>
      </div>
      <div class="col m5 s12">
        <figure class="right">
          <img src="./static/img/benchmarking_selections.png" alt="Selections on the airbnb dataset used in the benchmarks." />
          <figcaption>The 60 different, randomly generated view regions used for the benchmarks overlaid on top of the fully processed view. The three images each depict 20 unique regions in view space.</figcaption>
        </figure>
      </div>
      <div class="col m7 s12">
        <p>
          Lastly, the database module uses a <a href="https://www.mysql.com">MySQL</a> version 8 database.
          It communicates with the computation module through the <a href="https://pypi.org/project/mysql-connector-python/">mysql-connector-python package</a>.
        </p>
      </div>
    </section>

    <section class="empty"></section>
  </article>

  <footer class="page-footer au-color darken-1">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">Aarhus University Visualization Repository</h5>
          <p class="grey-text text-lighten-4">
          </p>
        </div>
        <div class="col l4 offset-l2 s12">
          <ul>
            <li><a class="grey-text text-lighten-3" href="https://cs.au.dk/">Department of Computer Science, Aarhus University</a></li>
            <li><a class="grey-text text-lighten-3" href="https://cs.au.dk/research/ubiquitous-computing-and-interaction/">Research Group for Ubiquitous Computing and Interaction</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <!-- <div class="container">
        © 2020 Copyright Department of Computer Science, Aarhus University
      <a class="grey-text text-lighten-4 right" href="#">back to top</a>
      </div> -->
    </div>
  </footer>

  <script type="text/javascript" src="../static/js/materialize.min.js"></script>
</body>
</html>